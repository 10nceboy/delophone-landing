import"./menu-a519aacc.js";import"./cart-1c917118.js";/* empty css                   */import{f as g}from"./common-b304797c.js";import{I as C,s as L,r as l}from"./index-98ae7fd2.js";import"./collapse-babc6f0a.js";import"./tooltip-ec1d4e2e.js";const u="363363",y=180,r={sendPhone:"send-phone",sendSms:"send-sms"},_={phone:"Вы ввели неверный номер телефона",smsCode:"Вы ввели неверный код. Попробуйте еще раз"},p={phonePlaceholder:"Введите ваш номер телефона",smsCodePlaceholder:"Введите код из СМС"},b={timerEndsMessage:"Запросить новый код",smsSendMessage:"Мы отправили код подтверждения на номер"},S={timerHTML:`Код действителен ещё&nbsp;<span class="timer">
    <span class="minutes"></span>&nbsp;<span class="seconds"></span></span>`,smsHTML:`<div
    class="order__caption order__step-content-caption order__sms-novalidated"
    id="sms"
  >
    Мы отправим смс-код подтверждения. После подтверждения номера
    вы сможете оплатить номера и перейти в личный кабинет.
  </div>`};let f=!1;const m=t=>{const a=Math.floor(t/60),d=t%60,M=document.querySelector(".minutes"),k=document.querySelector(".seconds");M.textContent=`${a} мин`,k.textContent=d<10?`0${d} сек`:`${d} сек`,t<=0&&(n.textContent=b.timerEndsMessage,n.classList.add("order__validation-reset_active"),l())},w={mask:"{8}(000)000-00-00",lazy:!0,overwrite:!0,prepare:t=>t,commit:t=>t===e.value},e=document.querySelector(".order__phone-input"),c=C(e,w),q=document.querySelector(".order__submit-button"),v=document.querySelector("#sms"),T=document.querySelector(".order__pay-button"),i=document.querySelector(".order__pay-note"),s=document.querySelector(".order__sms-note"),n=document.querySelector(".order__validation-reset");s.textContent=_.phone;let h=0;T.addEventListener("click",()=>{f||(i.classList.add("order__pay-note_active"),h++,h>1&&(i.classList.add("order__pay-note_animated"),window.setTimeout(()=>{i.classList.remove("order__pay-note_animated")},150)))});const P=()=>`<button type = "button" class="button button_no-border button_transparent order__change-phone-button">
  Изменить
</button>`;let o=r.sendPhone;q.addEventListener("click",()=>{let t=o;if(o===r.sendPhone&&e.value.trim().length===15){const d=g(e.value.trim());e.placeholder=p.smsCodePlaceholder,v.innerHTML=`${b.smsSendMessage}&nbsp;${d}&nbsp;${P()}`,n.classList.add("order__validation-reset_visible"),c.updateOptions({mask:Number}),e.classList.add("order__sms"),e.value="",c.updateValue(),m(y),L(m),s.classList.remove("order__pay-note_active"),e.classList.remove("order__sms-error"),t=r.sendSms}else e.value.trim().length!==15&&(s.classList.add("order__pay-note_active"),e.classList.add("order__sms-error"));o==r.sendSms&&e.value.trim()===u?(f=!0,e.classList.remove("order__sms-error"),s.classList.remove("order__pay-note_active"),i.classList.remove("order__pay-note_active"),l(),document.querySelector(".order__pay-button").classList.remove("order__pay-button_disabled")):o==r.sendSms&&e.value.trim()!==u&&(e.classList.add("order__sms-error"),s.classList.add("order__pay-note_active"),s.textContent=_.smsCode),o=t;const a=document.querySelector(".order__change-phone-button");a&&a.addEventListener("click",()=>{o=r.sendPhone,e.placeholder=p.phonePlaceholder,v.innerHTML=S.smsHTML,c.updateOptions({mask:"{8}(000)000-00-00"}),e.value="",c.updateValue(),n.classList.remove("order__validation-reset_visible"),l(),e.classList.remove("order__sms-error"),s.classList.remove("order__pay-note_active"),s.textContent=_.phone})});n.addEventListener("click",()=>{n.innerHTML=S.timerHTML,l(),m(y),L(m)});e.addEventListener("keydown",t=>{if(["Enter","Tab","Backspace","Delete","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","0","1","2","3","4","5","6","7","8","9"].includes(t.key))return!0;t.preventDefault()});
