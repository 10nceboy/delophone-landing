import{c as S,t as l,a as m,d as O}from"./menu-91078bf9.js";import"./cart-ae1a17b6.js";import"./tabs-20316558.js";const L=document.querySelectorAll(".filters__activator"),T=document.querySelectorAll(".filters__item"),C=document.querySelector(".filters__dropdown-button"),b=document.querySelector(".filter__wrapper"),A=document.querySelector(".search__error-button"),y=document.querySelector(".filter__reset"),M=e=>{const t=document.querySelector(".filter__arrow");if(t)return t.innerHTML=`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18 6.5L10 14L2 6.5" stroke="#344351" stroke-linecap="round"/>
        </svg>
    `,t};document.addEventListener("DOMContentLoaded",()=>{M(),b.addEventListener("click",()=>{document.querySelector(".filter__arrow").classList.toggle("filter__arrow_active")})});L.forEach(e=>{e.addEventListener("click",t=>{const o=t.currentTarget.dataset.filter;t.currentTarget.dataset.search!=="phones"?y.classList.remove("filter__reset_active"):y.classList.add("filter__reset_active");const r=document.querySelector(`.filters__item[data-filter="${o}"]`);C.innerHTML=e.innerHTML,document.querySelector(".filter__arrow").classList.remove("filter__arrow_active"),L.forEach(c=>{c.classList.remove("filters__activator_active")}),t.target.classList.add("filters__activator_active"),T.forEach(c=>{c.classList.remove("filters__item_active")}),r.classList.add("filters__item_visible"),requestAnimationFrame(()=>{r.classList.add("filters__item_active"),r.classList.remove("filters__item_visible")})})});S(b,()=>{const e=document.querySelector(".filter__arrow");e&&e.classList.remove("filter__arrow_active")});A.addEventListener("click",()=>{L.forEach(e=>{e.classList.remove("filters__activator_active"),filterItem.classList.add("filters__item_visible")})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".search__input"),t=document.querySelector(".search__submit-button"),o=document.querySelector(".search__close-button"),i=document.querySelectorAll(".choose__phone-number"),r=()=>{o.classList.remove("search__close-button_active"),t.classList.remove("search__submit-button_active"),setTimeout(()=>{o.classList.remove("search__close-button_visible"),t.classList.remove("search__submit-button_visible"),e.classList.remove("search__input_active")},200)},w=()=>{l(t,"search__submit-button"),l(o,"search__close-button"),l(e,"search__input")};e.addEventListener("input",c=>{const h=c.target.value.trim();let g=new RegExp(h.split("").join("[\\s-]*"),"gi");i.forEach(E=>{E.querySelectorAll("i").forEach(p=>{const v=p.textContent;if(v.matchAll(g)){const k=v.replace(g,'<i class="search__highlight">$&</i>');p.innerHTML=k}o.addEventListener("click",()=>{p.textContent=v})})})}),e.addEventListener("keyup",c=>{c.target.value.length==0?r():w()}),o.addEventListener("click",c=>{r(),e.value="",e.focus()}),e.addEventListener("keydown",c=>{if(["Enter","Tab","Backspace","Delete","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","0","1","2","3","4","5","6","7","8","9","(",")","?","*"].includes(c.key))return!0;c.preventDefault()})});const d=["Москва (495)","Москва (499)","Санкт-Петербург","Сочи","Краснодар","Ростов-на-Дону","Екатеринбург","Самара","Казань","Челябинск","Владивосток","Тюмень","Воронеж","Ставрополь","Волгоград","Нижний Новгород","Новосибирск"],x=e=>{const t=e.querySelector(".autocomplete__arrow");if(t)return t.innerHTML=`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18 6.5L10 14L2 6.5" stroke="#344351" stroke-linecap="round"/>
        </svg>
    `,t},f=document.querySelector(".autocomplete"),B=document.querySelector(".autocomplete__input-wrapper"),u=document.querySelector(".autocomplete__input"),a=x(f),D=document.querySelector(".autocomplete__arrow-wrapper"),s=document.querySelector(".autocomplete__close-button");function q(e){const{target:t}=e;u.value=t.innerHTML;const o=document.querySelector(".autocomplete__options");m(o,"autocomplete__options"),window.setTimeout(()=>{n()},300),a.classList.remove("autocomplete__arrow_active"),s.classList.remove("autocomplete__close-button_active"),e.stopImmediatePropagation()}const _=e=>{const t=document.createElement("ul");t.className="autocomplete__options",t.id="autocomplete__options",f.appendChild(t),e.forEach(o=>{const i=document.createElement("li");i.innerHTML=o,t.appendChild(i),i.className="autocomplete__option-item",i.addEventListener("click",q)})},n=()=>{const e=document.querySelector("#autocomplete__options");e&&(e.querySelectorAll(".autocomplete__option").forEach(o=>o.removeEventListener("click",q)),e.remove())},I=e=>{n();const t=e.toLowerCase().trim(),o=d.filter(r=>r.toLowerCase().trim().includes(t));if(!o.length){_(["Нет подходящих городов"]),document.querySelector(".autocomplete__options").classList.add("autocomplete__options_disabled"),document.querySelector(".autocomplete__option-item").classList.add("autocomplete__option-item_disabled");return}_(o),document.querySelector(".autocomplete__options").classList.add("autocomplete__options_active")},H=O(I);u.addEventListener("input",e=>{const t=e.target.value.toString().toLowerCase().trim();H(t),t?s.classList.add("autocomplete__close-button_active"):s.classList.remove("autocomplete__close-button_active")});S(f,()=>{const e=document.querySelector(".autocomplete__options");e&&(a.classList.remove("autocomplete__arrow_active"),m(e,"autocomplete__options"),window.setTimeout(()=>{n()},100))});B.addEventListener("click",e=>{e.stopPropagation(),a.classList.add("autocomplete__arrow_active");const t=document.querySelector(".autocomplete__options");if(t)m(t,"autocomplete__options"),window.setTimeout(()=>{n()},100),a.classList.remove("autocomplete__arrow_active"),s.classList.remove("autocomplete__close-button_active");else{s.classList.add("autocomplete__close-button_active"),_(d);const o=document.querySelector(".autocomplete__options");l(o,"autocomplete__options")}});D.addEventListener("click",e=>{e.stopImmediatePropagation(),a.classList.add("autocomplete__arrow_active");const t=document.querySelector(".autocomplete__options");if(t)m(t,"autocomplete__options"),window.setTimeout(()=>{n()},100),a.classList.remove("autocomplete__arrow_active"),s.classList.remove("autocomplete__close-button_active");else{_(d);const o=document.querySelector(".autocomplete__options");s.classList.add("autocomplete__close-button_active"),l(o,"autocomplete__options")}});s.addEventListener("click",e=>{u.value="",n(),_(d),u.focus(),document.querySelector(".autocomplete__options").classList.add("autocomplete__options_active"),s.classList.remove("autocomplete__close-button_active")});u.addEventListener("click",e=>{e.target.value.trim()!==""&&s.classList.add("autocomplete__close-button_active")});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".gift"),t=document.querySelector(".gift__button"),o=document.querySelector(".gift__close-button");t.addEventListener("click",()=>{e.classList.toggle("gift_active")}),o.addEventListener("click",()=>{e.classList.remove("gift_active")})});
